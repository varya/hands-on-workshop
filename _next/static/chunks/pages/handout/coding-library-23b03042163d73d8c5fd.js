_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{"O+oT":function(e,n,t){"use strict";t.r(n),t.d(n,"meta",(function(){return c})),t.d(n,"default",(function(){return d}));var o=t("rePB"),r=t("Ff2n"),i=(t("q1tI"),t("7ljp")),a=t("LRTk");function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){Object(o.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c={title:"Build and Deployment"},b={meta:c},p=a.a;function d(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)(p,s(s(s({},b),t),{},{components:n,mdxType:"MDXLayout"}),Object(i.b)("h2",null,"Updating design tokens"),Object(i.b)("p",null,"If you want to sync with the design library, build Figma tokens.\nYou will use in components and product pages.\nThe tokens are exported from Figma in one click with\n",Object(i.b)("a",s({parentName:"p"},{href:"https://github.com/lukasoppermann/design-tokens"}),"Design Tokens plugin"),", but the default\nexport file is not very convenient for development\nThe purpose of ",Object(i.b)("em",{parentName:"p"},"Tokens workspace")," is simply to transform exported JSON into\nJS object of a convenient shape."),Object(i.b)("p",null,"Get the design tokens JSON\nfile from your designer, put it as ",Object(i.b)("inlineCode",{parentName:"p"},"tokens/design-tokens.json")," into\nthe repository. Then, build the tokens"),Object(i.b)("pre",null,Object(i.b)("code",s({parentName:"pre"},{}),"yarn tokens:build\n")),Object(i.b)("p",null,"This command changes the files in ",Object(i.b)("inlineCode",{parentName:"p"},"tokens/dist")," directory. Normally, you would\ndistribute them as an npm package for all to sync. But in the workshop, for\nthe sake of simplicity, we are keeping it in the repository. In this case, you\nhave to commit the changes for your other team member's to sync."),Object(i.b)("h2",null,"Adding new component"),Object(i.b)("p",null,"Quickly add component template files:"),Object(i.b)("pre",null,Object(i.b)("code",s({parentName:"pre"},{}),"yarn add-component <ComponentName>\n")),Object(i.b)("p",null,"For example, if you run ",Object(i.b)("inlineCode",{parentName:"p"},"yarn add-component Avatar"),", a new folder with two new files will be created at ",Object(i.b)("inlineCode",{parentName:"p"},"design-system/src/components"),":"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Avatar/",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"index.js"),Object(i.b)("li",{parentName:"ul"},"Avatar.stories.mdx")))),Object(i.b)("p",null,"Check ",Object(i.b)("a",s({parentName:"p"},{href:"https://component.gallery/"}),"https://component.gallery/")," to get ideas on how to fill your\ncomponent with code."),Object(i.b)("h2",null,"Building and releasing library"),Object(i.b)("p",null,"Do not forget that we serve design tokens and the library of components as different\npackages. However, it is good to keep them synced and always release the tokens when\nyou are releasing the library."),Object(i.b)("h3",null,"Release the tokens"),Object(i.b)("pre",null,Object(i.b)("code",s({parentName:"pre"},{}),"yarn tokens:version\n")),Object(i.b)("p",null,"The release script will build the tokens, increment the version and commit the\nresult of the build. If you want to check beforehand that the build is not broken,\nrun ",Object(i.b)("inlineCode",{parentName:"p"},"tokens:build"),"."),Object(i.b)("h3",null,"Upgrade the tokens version in the library"),Object(i.b)("p",null,"Go to package.json of your design system (",Object(i.b)("inlineCode",{parentName:"p"},"design-system/package.json"),") and change the\nversion of the library:"),Object(i.b)("pre",null,Object(i.b)("code",s({parentName:"pre"},{className:"language-diff"}),'  "dependencies": {\n-   "tokens": "0.1.0", \n+   "tokens": "0.2.0",\n  ...\n  }\n\n')),Object(i.b)("h3",null,"Release the library"),Object(i.b)("p",null,"When the tokens are updated, all the changes are commited,\nyou can release your library:"),Object(i.b)("pre",null,Object(i.b)("code",s({parentName:"pre"},{}),"yarn design-system:version\n")),Object(i.b)("p",null,"Similarly to the process with tokens, you will be prompted to type a version.\nAlongside with incrementing the version, this command builds the library and\ncommits the result to the repository. If you want to check beforehand that the\nbuild goes normally, run ",Object(i.b)("inlineCode",{parentName:"p"},"yarn design-system:build"),"."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Now you can use the new library version in the product.")),Object(i.b)("h3",null,"Additional information"),Object(i.b)("p",null,"When releasing the tokens or the library, you can run the command with one of\nthe flags: ",Object(i.b)("inlineCode",{parentName:"p"},"--patch"),", ",Object(i.b)("inlineCode",{parentName:"p"},"--minor"),", ",Object(i.b)("inlineCode",{parentName:"p"},"--major"),". They will fill the coresponding\nversion number accordingly."),Object(i.b)("h3",null,"Why we are keeping dist in the repo?"),Object(i.b)("p",null,"When we are building the tokens or the library, their minified prduction-ready versions\nare  created in ",Object(i.b)("inlineCode",{parentName:"p"},"tokens/dist")," and ",Object(i.b)("inlineCode",{parentName:"p"},"design-system/dist")," folders.\nNormally, such folders would not be a part of your repository. You would keep them inside the\nnpm packages. But in the workshop, we keep it simple: you sync with your other\nteam members by commiting the compiled files into the reposiitory."))}d.isMDXComponent=!0},"cD/2":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/handout/coding-library",function(){return t("O+oT")}])}},[["cD/2",0,1,2,3]]]);