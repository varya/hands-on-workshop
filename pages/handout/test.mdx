import Layout from "../../templates/layout"

export default Layout
export const meta = { title: "Visual Regression Testing" }

You can optionally run visual regression tests for your components and storybook pages. We suggest to use [Loki](https://loki.js.org/) for this purpose.  It's already installed in _design-system_ workspace.

To start the test first time, first make sure the storybook already running:

```
yarn design-system
```

Then run in __separate__ terminal window:

```
yarn test:update
```

Loki will run all tests and save references in `design-system/.loki/reference/`. Now you can proceed with changes, and run your tests:

```
yarn test
```


__By default the tests are configured for chrome desktop and mobile only. [Refer to documentation](https://loki.js.org/configuration.html) if you want to extend your configuration.__

You'll see the status of your tests in the console. If the test fail, you can check diff images in `design-system/loki/diff`. You can update reference images by name (see tips in the console), or all together with

```
yarn test:approve
```